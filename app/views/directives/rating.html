<span ng-mouseleave="reset()" class="rating" ng-class="{'edit': !readOnly}">
    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="star" ng-class="$index < val && (r.stateOn || 'full') || (r.stateOff || 'empty')"></i>
</span>